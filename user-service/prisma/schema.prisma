
generator client {
  provider = "prisma-client-js"

}

datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}


model User {
  id String  @id @default(uuid()) @unique
  name String?
  email String @unique
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  refreshTokens    RefreshToken[]
}

model RefreshToken{
  id  Int @id @default(autoincrement()) 
  tokens String @unique
  revoked Boolean @default(false)

  expiresAt DateTime
  createdAt DateTime @default(now())


  user User @relation(fields: [userId], references: [id])
  userId String  

  @@index([tokens])
  @@index([id])

}